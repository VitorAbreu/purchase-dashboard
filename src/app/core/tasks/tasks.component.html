<div class="title-section">
  <div>
    <h1>Purchase Requests</h1>
    <p>Manage and track all purchase requests</p>
  </div>
  <button type="button" mat-flat-button><mat-icon>add</mat-icon>New Request</button>
</div>

<mat-card appearance="outlined">
  <mat-card-header>
    <mat-card-title><mat-icon>filter_alt</mat-icon>Filters</mat-card-title>
  </mat-card-header>
  <mat-card-content>
    <mat-form-field class="example-full-width">
      <mat-label><mat-icon>search</mat-icon> Search</mat-label>
      <input matInput placeholder="Search by title or requester..." [(ngModel)]="textSearch" (keyup)="onSearch()" />
    </mat-form-field>
    <mat-form-field>
      <mat-label>Status</mat-label>
      <mat-select [(value)]="selected" (selectionChange)="onSearch()">
        <mat-option [value]="''">All statuses</mat-option>
        <mat-option [value]="'Backlog'">Backlog</mat-option>
        <mat-option [value]="'Pending'">Pending</mat-option>
        <mat-option [value]="'In Progress'">In Progress</mat-option>
        <mat-option [value]="'In Review'">In Review</mat-option>
        <mat-option [value]="'Done'">Done</mat-option>
      </mat-select>
    </mat-form-field>
  </mat-card-content>
</mat-card>

<p>Showing 6 of 6 requests</p>

<div class="table-container">
  <table mat-table [dataSource]="dataSource" matSort>
    <ng-container matColumnDef="uid">
      <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by UID">UID</th>
      <td mat-cell *matCellDef="let element">{{ element.uid }}</td>
    </ng-container>

    <ng-container matColumnDef="title">
      <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by Title">Title</th>
      <td mat-cell *matCellDef="let element">{{ element.title }}</td>
    </ng-container>

    <ng-container matColumnDef="assignee.name">
      <th mat-header-cell *matHeaderCellDef>Requester</th>
      <td mat-cell *matCellDef="let element">{{ element.assignee?.name || 'No Assignee' }}</td>
    </ng-container>

    <ng-container matColumnDef="status">
      <th mat-header-cell *matHeaderCellDef mat-sort-header>Status</th>
      <td mat-cell *matCellDef="let element">{{ element.status || 'No Assignee' }}</td>
    </ng-container>

    <ng-container matColumnDef="priority">
      <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by Priority">Priority</th>
      <td mat-cell *matCellDef="let element">{{ element.priority }}</td>
    </ng-container>

    <ng-container matColumnDef="createdAt">
      <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by date">Created</th>
      <td mat-cell *matCellDef="let element">
        {{ element.createdAt | date: 'shortDate' }}
      </td>
    </ng-container>

    <ng-container matColumnDef="action">
      <th mat-header-cell *matHeaderCellDef>Action</th>
      <td mat-cell *matCellDef="let element">
        <button type="button" mat-stroked-button>View</button>
      </td>
    </ng-container>

    <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
    <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
  </table>

  <mat-paginator [pageSizeOptions]="[10, 15, 20]" showFirstLastButtons aria-label="Select page of periodic elements">
  </mat-paginator>
</div>
